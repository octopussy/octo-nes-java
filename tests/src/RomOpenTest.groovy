import org.octopussy.nes.Emulator
import org.octopussy.nes.OctoNesFrame
import org.octopussy.nes.vm.VM

import javax.swing.*
import java.awt.*
import java.awt.event.WindowAdapter
import java.awt.event.WindowEvent

/**
 * @author octopussy
 */

Emulator main = new Emulator();
VM vm = main.open("c:/dev/octo-nes-java/tests/data/sprites/sprites.nes");

OctoNesFrame frame = new OctoNesFrame();
JFrame mainFrame = new JFrame();
mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)
mainFrame.addWindowListener(new WindowAdapter() {
    @Override
    void windowClosing(WindowEvent e) {
        super.windowClosing(e)

        vm.stop();
    }
})


mainFrame.getContentPane().add(frame, BorderLayout.CENTER);
mainFrame.setSize(500, 500);
mainFrame.setVisible(true);

vm.start(frame);
